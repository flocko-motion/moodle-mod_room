define ("mod_room/date_reload",["core/loadingicon","core/ajax","core/notification"],function(a,b,c){var d=document.getElementById("id_displaydate_day"),e=document.getElementById("id_displaydate_month"),f=document.getElementById("id_displaydate_year"),g=document.getElementById("mod-room-room-plan"),h=document.getElementById("mod-room-add-slot-button"),i,j,k=function(a,b){return a.day===b.day&&a.month===b.month&&a.year===b.year},l=function(){return{day:Math.floor(d.value),month:Math.floor(e.value),year:Math.floor(f.value)}},m=function(){window.onbeforeunload=null;if(k(i,l())){return}i=l();var d=i;g.innerHTML="";var e=a.addIconToContainerWithPromise(g),f={methodname:"mod_room_room_plan_rendered",args:{date:i,cmid:j}};b.call([f])[0].then(function(a){if(k(l(),d)){e.resolve();g.innerHTML=a.html;history.pushState(null,null,"?"+a.url);if(h){h.href=h.href.split("?")[0]+"?"+a.url}}}).fail(c.exception)};return{init:function init(a,b){document.getElementById("id_submitbutton").style.display="none";i=a;j=b;setInterval(m,250)}}});
//# sourceMappingURL=date_reload.min.js.map
