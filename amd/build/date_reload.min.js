define ("mod_room/date_reload",["core/loadingicon","core/ajax","core/notification"],function(a,b,c){var d=document.getElementById("id_displaydate_day"),e=document.getElementById("id_displaydate_month"),f=document.getElementById("id_displaydate_year"),g=document.getElementById("mod-room-room-plan"),h,i,j=function(a,b){return a.day===b.day&&a.month===b.month&&a.year===b.year},k=function(){return{day:Math.floor(d.value),month:Math.floor(e.value),year:Math.floor(f.value)}},l=function(){window.onbeforeunload=null;if(j(h,k())){return}h=k();var d=h;g.innerHTML="";var e=a.addIconToContainerWithPromise(g),f={methodname:"mod_room_room_plan_rendered",args:{date:h,cmid:i}};b.call([f])[0].then(function(a){if(j(k(),d)){e.resolve();g.innerHTML=a.html;history.pushState(null,null,"?"+a.url)}}).fail(c.exception)};return{init:function init(a,b){document.getElementById("id_submitbutton").style.display="none";h=a;i=b;setInterval(l,250)}}});
//# sourceMappingURL=date_reload.min.js.map
